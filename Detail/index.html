<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="/Detail/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script defer src="/Detail/script.js"></script>
     <!-- 헤더푸터 고정 스크립트  -->
<script>
        $(document).ready(function() {
    $("#header_box").load("../Includes/header.html");
    $("#footer_box").load("../Includes/footer.html");
    });
</script>
</head>
<body>
    <!-- header-->
     <header id="header_box"></header>
    <!--description   -->
<div id="des_container">
  <div class="des_title">
    <h2>위키드</h2>
    <ul>
        <li ><img src="/Detail/img/icon/tag_cmmg_19.svg" alt=""></li>
        <li>2024</li>
        <li>movie</li> </li>
        <li>50분</li>
    </ul>
 </div>
  <div class="watch_select">
    <button id="purchaseBtn">play</button> 
    <!-- 비디오 팝업 -->
<div class="overlay" id="overlay"></div>
<div class="popup" id="popup">
    <span id="closeBtn" class="close-btn">&times;</span>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/w6FbiayT3N4?si=HPN-jwtMAW1kr7GO" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</div>
<!-- 비디오 팝업 -->
<span id="favoriteBtn" onclick="toggleFavorite()">
    <img src="/Detail/img/icon/favorite_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg">
    <p>&nbsp&nbsp찜 </p> 
</span> 
<span id="shareBtn"><img src="/Detail/img/icon/ios_share_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg"> 
    <p>&nbsp공유</p>
</span> 
</div>
<!-- share popup -->
<div id="sharePopup" class="share-popup" style="display: none;">
    <span class="share-option" onclick="shareOnFacebook()">
        <img src="/Detail/img/icon/circle-facebook.svg" alt="Facebook">
    </span>
    <span class="share-option" onclick="shareOnKakaoTalk()">
        <img src="/Detail/img/icon/circle-kakao.svg"alt="KakaoTalk">
    </span>
    <span class="share-option" onclick="copyLink()">
        <img src="/Detail/img/icon/circle-url (1).svg" alt="Copy">
    </span>
</div>
  </div>
</div>
<!--  시놉시스  -->
<div class="tb_container">
  <div id="tb_container">
    <button id="toggleButton"><span>더보기</span><img src="/Detail/img/icon/down arrow.svg"></button>
    <div id="dropdown" class="dropdown-content" >
        <p>화재로 어머니를 잃은 11살 소년 ‘마히토’는 <br>아버지와 함께 어머니의 고향으로 간다.<br> 어머니에 대한 그리움과 새로운 보금자리에 <br>적응하느라 힘들어하던 ‘마히토’ 앞에 정체를 <br>알 수 없는 왜가리 한 마리가 나타나고,<br> 저택에서 일하는 일곱 할멈으로부터<br> 왜가리가 살고 있는 탑에 대한 신비로운<br> 이야기를 듣게 된다. 그러던 어느 날,<br> ‘마히토’는 사라져버린 새엄마 ‘나츠코’를 찾기<br> 위해 탑으로 들어가고, 왜가리가<br> 안내하는 대로 이세계(異世界)의 문을 통과하는데…!<br>Lorem, ipsum dolor sit amet consectetur
        <button id="closeButton"><span>닫기</span><img src="/Detail/img/icon/up arrow.svg" alt=""></button>
    </div>
  </div>
<div class="des_poster"><img src="/Detail/img/des_poster/wecked_3129.png" alt=""></div>
</div>
<!-- footer -->
 <footer id="footer_box"></footer>
<!--js시놉시스 -->
<script>
    document.getElementById('toggleButton').addEventListener('click', function() {
    const dropdown = document.getElementById('dropdown');
    dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
});

document.getElementById('closeButton').addEventListener('click', function() {
    document.getElementById('dropdown').style.display = 'none';
});
</script>

<!-- share popup script-->
<script>
    document.getElementById("shareBtn").onclick = function() {
    const popup = document.getElementById("sharePopup");
    popup.style.display = popup.style.display === "none" ? "block" : "none";
};

function shareOnFacebook() {
    const url = 'https://www.facebook.com'; // 공유할 URL
    window.open(`https://www.facebook.com/login/?privacy_mutation_token=eyJ0eXBlIjowLCJjcmVhdGlvbl90aW1lIjoxNzI5MDEwODU5LCJjYWxsc2l0ZV9pZCI6MzgxMjI5MDc5NTc1OTQ2fQ%3D%3D&next=${encodeURIComponent(url)}`, '_blank');
}

function shareOnKakaoTalk() {
    const url = 'https://accounts.kakao.com/login/'; // 공유할 URL
    window.open(`https://accounts.kakao.com/login/?continue=https%3A%2F%2Fcs.kakao.com%2Fhelps%3Fservice%3D8#login'=${encodeURIComponent(url)}`, '_blank');
function copyLink() {
    const url = 'http://127.0.0.1:5500/Detail/index.html'; // 복사할 URL
    navigator.clipboard.writeText(url).then(() => {
        alert('링크가 복사되었습니다!');
    });
}
function toggleFavorite() {
            const favoriteBtn = document.getElementById("favoriteBtn");
            favoriteBtn.classList.toggle("favorite-selected");
            const favoriteIcon = document.getElementById("favoriteIcon");
            favoriteIcon.src = favoriteBtn.classList.contains("favorite-selected") 
                ? '/img/icon/favorite-selected.svg' // 선택된 아이콘 경로
                : '/img/icon/favorite.svg'; // 기본 아이콘 경로
        }
}
       
    </script>
    <!-- 비디오 팝업 -->
    <script>
        // 팝업과 오버레이 요소 가져오기
        const popup = document.getElementById("popup");
        const overlay = document.getElementById("overlay");
    
        // 버튼 클릭 시 팝업과 오버레이 표시
        document.getElementById("purchaseBtn").addEventListener("click", function() {
            popup.style.display = "block";
            overlay.style.display = "block";
        });
    
        // 닫기 버튼 클릭 시 팝업과 오버레이 숨김
        document.getElementById("closeBtn").addEventListener("click", function() {
            popup.style.display = "none";
            overlay.style.display = "none";
        });
    
        // 오버레이 클릭 시 팝업과 오버레이 숨김
        overlay.addEventListener("click", function() {
            popup.style.display = "none";
            overlay.style.display = "none";
        });
    </script>
   
</body>
</html>